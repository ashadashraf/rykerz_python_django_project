{% extends 'userside/base.html' %}
{% block content %}

<main class="bg-black">
    <div class="row">
        <div class="col-6 mt-3">
            <center><h2 class="text-white mt-2 mb-4">{{ details.product_name }}</h2></center>
            <div class="row">
                <div class="d-flex justify-content-center">
                    <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
                        <div class="carousel-inner">
                            {% if details.product_image_id.image1 is not None %}
                            <div class="carousel-item active">
                                <img src="/media/{{ details.product_image_id.image1 }}" class="d-block rounded-5" alt="..." width="670px" height="350px">
                            </div>
                            {% endif %}
                            {% if details.product_image_id.image1 is not None %}
                            <div class="carousel-item">
                                <img src="/media/{{ details.product_image_id.image2 }}" class="d-block rounded-5" alt="..." width="670px" height="350px">
                            </div>
                            {% endif %}
                            {% if details.product_image_id.image1 is not None %}
                            <div class="carousel-item">
                                <img src="/media/{{ details.product_image_id.image3 }}" class="d-block rounded-5" alt="..." width="670px" height="350px">
                            </div>
                            {% endif %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-target="#carouselExampleFade" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-target="#carouselExampleFade" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="d-flex justify-content-center pl-5 pr-5">
                    <div class="col-4 pl-5 pr-0">
                        <img src="/media/{{ details.product_image_id.image1 }}" alt="image1" width="200px" height="150px" class="rounded-5">
                    </div>
                    <div class="col-4 pl-4 pr-3">
                        <img src="/media/{{ details.product_image_id.image2 }}" alt="image2" width="200px" height="150px" class="rounded-5">
                    </div>
                    <div class="col-4 pl-0 pr-4">
                        <img src="/media/{{ details.product_image_id.image3 }}" alt="image3" width="200px" height="150px" class="rounded-5">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="ml-2 p-3 d-flex justify-content-center">
                    {% if details.stock > 0 %}
                    <h5 class="text-success">INSTOCK</h5>
                    {% else %}
                    <h5 class="text-danger">OUT OF STOCK</h5>
                    {% endif %}
                </div>
            </div>
            <div class="d-flex justify-content-md-between">
                <div class="ml-5 mr-5 mb-5 pl-5">
                    <a href="{% url 'addtocart' details.id user.id 1 'productdetails' %}"><button type="button" class="btn btn-danger p-2">ADD TO CART</button></a>
                </div>
                <div class="row align-items-center price-tag bg-white ml-5 mr-5 mb-5 rounded-5">
                    <h5 class="col-auto text-danger mrp">
                      MRP: RS
                    </h5>
                    <div class="col-auto">
                      <h4 class="card-body pt-2 text-black">{{ details.sales_price }}</h4>
                    </div>
                </div>
                <div class="ml-5 mr-5 mb-5 pr-5"><a href="{% url 'directcheckout' details.id None user.id %}"><button type="button" class="btn btn-outline-light p-2">BUY NOW</button></a></div>
            </div>
        </div>
        <div class="col-6 mt-5 p-4">
            <div class="mt-5 d-flex justify-content-center text-white">{{ details.product_description }}</div>
            <center><h4 class="text-danger mt-5">Nutritional Information</h4></center>
            <center><div class="text-white">(Approx. Values per 100g)</div></center>
            <div class="nutrition-table mr-3 ml-3 row d-flex justify-content-end" style="background-color: rgb(224, 187, 187);">
                <div class="row">
                    <h5 class="col-4 pt-3">Total Energy: {{ details.total_energy }} Kcal</h5>
                    <h5 class="col-2 d-flex justify-content-end pt-3">||</h5>
                    <h5 class="col-4 pt-3">Carbohydrate: {{ details.carbohydrate }} g</h5>
                </div>
                <div class="row">
                    <h5 class="col-4 pb-3">Fat: {{ details.fat }} g</h5>
                    <h5 class="col-2 d-flex justify-content-end pb-3">||</h5>
                    <h5 class="col-4 pb-3">Protein: {{ details.protein }} g</h5>
                </div>
            </div>
            <div class="row mt-5 d-flex justify-content-center">
                {% if details.piece != None %}
                <div class="col-5">
                    <div class="card">
                        <h4 class="card-body d-flex justify-content-center">No. of pieces :- {{ details.piece }}</h4>
                    </div>
                </div>
                {% else %}
                <div class="col-5">
                    <div class="card">
                        <h4 class="card-body d-flex justify-content-center">Net weight :- {{ details.weight }} g</h4>
                    </div>
                </div>
                {% endif %}
                <div class="col-5">
                    <div class="card d-flex align-items-center">
                        <h4 class="card-body"><img src="/static/images/Scooter_express.webp" class="mr-3" height="25px" width="25px" alt="scooter-logo">{{ details.duration }} hrs</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

{% endblock %}